\documentclass{article}\usepackage[]{graphicx}\usepackage[]{color}
%% maxwidth is the original width if it is less than linewidth
%% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\usepackage{Sweavel}


\begin{document}

This is all you need to do if you want to use the listings package:



The quick brown fox jumps over the lazy dog the quick brown fox jumps over the
lazy dog the quick brown fox jumps over the lazy dog.

\begin{Schunk}
\begin{Sinput}
1+1
\end{Sinput}
\begin{Soutput}
[1] 2
\end{Soutput}
\begin{Sinput}
rnorm(30)
\end{Sinput}
\begin{Soutput}
 [1] -0.65654714  0.69605298  1.35897403 -1.52898469  0.80534653
 [6]  1.24536282 -0.73365848 -0.62093765  1.04832238  0.59107560
[11] -0.45359343 -0.37381991 -0.53820755  1.80038453 -0.39704444
[16]  0.23707631  0.54306439 -1.66170194 -0.36938221  0.51999789
[21]  1.10893808  0.79721031 -0.04693766 -0.86257485  1.75272907
[26] -1.18107693  0.02816885  1.31082989 -1.71838782  0.18141939
\end{Soutput}
\end{Schunk}

The quick brown fox jumps over the lazy dog the quick brown fox jumps over the
lazy dog the quick brown fox jumps over the lazy dog.

\end{document}
